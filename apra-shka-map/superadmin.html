<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="–°—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∫–∞ –ö–∞—Ä—Ç—ã –ê–ø—Ä–∞—à–∫–∏ ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–º">
    <meta name="theme-color" content="#000000">
    <title>–°—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∫–∞ ‚Äî –ö–∞—Ä—Ç–∞ –ê–ø—Ä–∞—à–∫–∏</title>
    
    <!-- Supabase Configuration (–ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ meta —Ç–µ–≥–∏ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏) -->
    <meta name="supabase-anon-key" content="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFhZ3B1dWNkbmtyendzbW5ieW1rIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1MDMxMjYsImV4cCI6MjA4NjA3OTEyNn0.T3vFY9VfxIQ19AtWPkwk6xiqAZe6sEzG-Ke73olUPsY">
    <meta name="supabase-url" content="https://qagpuucdnkrzwsmnbymk.supabase.co">
    
    <!-- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Supabase –∏–∑ <meta> —Ç–µ–≥–æ–≤ -->
    <script>
      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Supabase –∏–∑ <meta> —Ç–µ–≥–æ–≤
      window.SupabaseConfig = {
        url: document.querySelector('meta[name="supabase-url"]').content,
        anonKey: document.querySelector('meta[name="supabase-anon-key"]').content
      };
    </script>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    <link rel="apple-mobile-web-app-capable" content="yes">
    <link rel="apple-mobile-web-app-status-bar-style" content="black">
    
    <!-- –°—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/admin.css">
    
    <style>
        /* ============================================================
           –°–£–ü–ï–†-–ê–î–ú–ò–ù–ö–ê - –°–ü–ï–¶–ò–§–ò–ß–ù–´–ï –°–¢–ò–õ–ò
           ============================================================ */

        .superadmin-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: var(--spacing-lg);
        }

        /* –ù–ê–í–ò–ì–ê–¶–ò–Ø */
        .superadmin-nav {
            display: flex;
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-xl);
            border-bottom: 2px solid var(--color-border);
            overflow-x: auto;
            padding-bottom: var(--spacing-md);
        }

        .nav-tab {
            padding: var(--spacing-md) var(--spacing-lg);
            background: none;
            border: none;
            cursor: pointer;
            font-size: var(--font-size-base);
            color: var(--color-text-light);
            border-bottom: 3px solid transparent;
            transition: all var(--transition-fast);
            white-space: nowrap;
        }

        .nav-tab:hover {
            color: var(--color-primary);
        }

        .nav-tab.active {
            color: var(--color-accent);
            border-bottom-color: var(--color-accent);
        }

        /* TAB CONTENT */
        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* –°–¢–ê–¢–ò–°–¢–ò–ö–ê */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--spacing-lg);
            margin-bottom: var(--spacing-xl);
        }

        .stat-card {
            background: var(--color-secondary);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-lg);
            padding: var(--spacing-lg);
            text-align: center;
            box-shadow: var(--shadow-md);
            transition: all var(--transition-fast);
        }

        .stat-card:hover {
            box-shadow: var(--shadow-lg);
            transform: translateY(-2px);
        }

        .stat-number {
            font-size: var(--font-size-4xl);
            font-weight: var(--font-weight-bold);
            color: var(--color-accent);
            margin-bottom: var(--spacing-sm);
        }

        .stat-label {
            font-size: var(--font-size-sm);
            color: var(--color-text-light);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* –§–ò–õ–¨–¢–†–´ –ò –ü–û–ò–°–ö */
        .filters-panel {
            display: flex;
            flex-wrap: wrap;
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-lg);
            padding: var(--spacing-lg);
            background: var(--color-bg-lighter);
            border-radius: var(--radius-lg);
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-sm);
            flex: 1;
            min-width: 150px;
        }

        .filter-label {
            font-size: var(--font-size-sm);
            font-weight: var(--font-weight-semibold);
            color: var(--color-text);
        }

        .filter-input,
        .filter-select {
            padding: var(--spacing-sm) var(--spacing-md);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-md);
            font-size: var(--font-size-sm);
            background: var(--color-secondary);
            color: var(--color-text);
        }

        .filter-input:focus,
        .filter-select:focus {
            outline: none;
            border-color: var(--color-accent);
            box-shadow: 0 0 0 2px rgba(255, 107, 53, 0.1);
        }

        /* –¢–ê–ë–õ–ò–¶–´ */
        .table-wrapper {
            overflow-x: auto;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-md);
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            background: var(--color-secondary);
        }

        .data-table thead {
            background: var(--color-primary);
            color: var(--color-secondary);
        }

        .data-table th {
            padding: var(--spacing-md) var(--spacing-lg);
            text-align: left;
            font-weight: var(--font-weight-semibold);
            font-size: var(--font-size-sm);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .data-table td {
            padding: var(--spacing-md) var(--spacing-lg);
            border-bottom: 1px solid var(--color-border);
            font-size: var(--font-size-sm);
        }

        .data-table tbody tr:hover {
            background: var(--color-bg-light);
        }

        .table-actions {
            display: flex;
            gap: var(--spacing-sm);
            flex-wrap: wrap;
        }

        .btn-small {
            padding: var(--spacing-xs) var(--spacing-sm);
            font-size: var(--font-size-xs);
            border-radius: var(--radius-sm);
            border: 1px solid var(--color-border);
            background: var(--color-bg-light);
            color: var(--color-primary);
            cursor: pointer;
            transition: all var(--transition-fast);
            white-space: nowrap;
        }

        .btn-small:hover {
            background: var(--color-accent);
            color: var(--color-secondary);
            border-color: var(--color-accent);
        }

        .btn-danger {
            background: #ffcccc;
            color: #c00;
            border-color: #f44;
        }

        .btn-danger:hover {
            background: #f44;
            color: #fff;
        }

        .btn-success {
            background: #ccffcc;
            color: #040;
            border-color: #4f4;
        }

        .btn-success:hover {
            background: #4f4;
            color: #fff;
        }

        /* –ë–ï–ô–î–ñ–ò */
        .badge {
            display: inline-block;
            padding: var(--spacing-xs) var(--spacing-sm);
            border-radius: var(--radius-full);
            font-size: var(--font-size-xs);
            font-weight: var(--font-weight-semibold);
        }

        .badge-success {
            background: #ccffcc;
            color: #040;
        }

        .badge-danger {
            background: #ffcccc;
            color: #c00;
        }

        .badge-warning {
            background: #ffffcc;
            color: #660;
        }

        .badge-info {
            background: #ccf;
            color: #006;
        }

        .badge-gold {
            background: #FFD700;
            color: #000;
        }

        /* –§–û–†–ú–ê */
        .form-group {
            display: flex;
            flex-direction: column;
            margin-bottom: var(--spacing-lg);
        }

        .form-label {
            font-weight: var(--font-weight-semibold);
            margin-bottom: var(--spacing-sm);
            color: var(--color-text);
        }

        .form-input,
        .form-textarea,
        .form-select {
            padding: var(--spacing-md);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-md);
            font-size: var(--font-size-base);
            background: var(--color-secondary);
            color: var(--color-text);
            font-family: inherit;
        }

        .form-input:focus,
        .form-textarea:focus,
        .form-select:focus {
            outline: none;
            border-color: var(--color-accent);
            box-shadow: 0 0 0 3px rgba(255, 107, 53, 0.1);
        }

        .form-textarea {
            resize: vertical;
            min-height: 120px;
        }

        /* MODAL */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: var(--z-modal);
            padding: var(--spacing-md);
        }

        .modal-content {
            background: var(--color-secondary);
            border-radius: var(--radius-lg);
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: var(--shadow-lg);
        }

        .modal-header {
            padding: var(--spacing-lg);
            border-bottom: 1px solid var(--color-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h3 {
            margin: 0;
            color: var(--color-primary);
        }

        .modal-close {
            background: none;
            border: none;
            font-size: var(--font-size-2xl);
            cursor: pointer;
            color: var(--color-text-light);
            transition: all var(--transition-fast);
        }

        .modal-close:hover {
            color: var(--color-primary);
        }

        .modal-body {
            padding: var(--spacing-lg);
        }

        .modal-footer {
            padding: var(--spacing-lg);
            border-top: 1px solid var(--color-border);
            display: flex;
            gap: var(--spacing-md);
            justify-content: flex-end;
        }

        /* –ö–ù–û–ü–ö–ò */
        .btn {
            padding: var(--spacing-md) var(--spacing-lg);
            border: none;
            border-radius: var(--radius-md);
            font-size: var(--font-size-base);
            font-weight: var(--font-weight-semibold);
            cursor: pointer;
            transition: all var(--transition-fast);
        }

        .btn-primary {
            background: var(--color-accent);
            color: var(--color-secondary);
        }

        .btn-primary:hover {
            background: #E5602E;
            box-shadow: var(--shadow-lg);
        }

        .btn-secondary {
            background: var(--color-bg-light);
            color: var(--color-primary);
            border: 1px solid var(--color-border);
        }

        .btn-secondary:hover {
            background: var(--color-border);
        }

        /* EMPTY STATE */
        .empty-state {
            text-align: center;
            padding: var(--spacing-3xl);
            color: var(--color-text-light);
        }

        .empty-state-icon {
            font-size: var(--font-size-5xl);
            margin-bottom: var(--spacing-lg);
        }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .superadmin-container {
                padding: var(--spacing-md);
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: var(--spacing-md);
            }

            .filters-panel {
                flex-direction: column;
            }

            .filter-group {
                min-width: 100%;
            }

            .table-actions {
                display: flex;
                flex-direction: column;
                gap: var(--spacing-xs);
            }

            .btn-small {
                width: 100%;
                text-align: center;
            }

            .superadmin-nav {
                gap: var(--spacing-sm);
            }

            .nav-tab {
                padding: var(--spacing-sm) var(--spacing-md);
                font-size: var(--font-size-sm);
            }
        }

        @media (max-width: 480px) {
            .superadmin-container {
                padding: var(--spacing-sm);
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .data-table {
                font-size: var(--font-size-xs);
            }

            .data-table th,
            .data-table td {
                padding: var(--spacing-sm);
            }

            .modal-content {
                max-width: 100%;
            }
        }

        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0 !important;
                transition-duration: 0 !important;
            }
        }
    </style>
</head>
<body>
    <div id="superadmin-root">
        <!-- –®–ê–ü–ö–ê -->
        <header class="admin-header">
            <div class="admin-header-title">
                <h1>üëë –°—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∫–∞ –ê–ø—Ä–∞—à–∫–∏</h1>
                <p style="margin: 0; font-size: var(--font-size-sm); color: var(--color-text-light);">
                    –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–º
                </p>
            </div>
            <div class="admin-header-user" id="owner-info">
                <span id="owner-name">üë§ –ó–∞–≥—Ä—É–∑–∫–∞...</span>
                <button class="btn btn-primary" onclick="handleLogout()">üö™ –í—ã—Ö–æ–¥</button>
            </div>
        </header>

        <div class="superadmin-container">
            <!-- –ó–ê–©–ò–¢–ê: –¢–û–õ–¨–ö–û –î–õ–Ø –í–õ–ê–î–ï–õ–¨–¶–ê -->
            <div id="access-denied" style="display: none;">
                <div class="empty-state">
                    <div class="empty-state-icon">üîí</div>
                    <h2>–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω</h2>
                    <p>–≠—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞ –ø—Ä–æ–µ–∫—Ç–∞.</p>
                    <a href="/" class="btn btn-primary" style="display: inline-block;">‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
                </div>
            </div>

            <div id="admin-content" style="display: none;">
                <!-- –ù–ê–í–ò–ì–ê–¶–ò–Ø -->
                <div class="superadmin-nav">
                    <button class="nav-tab active" onclick="switchTab('stats')">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
                    <button class="nav-tab" onclick="switchTab('pavilions')">üè™ –ü–∞–≤–∏–ª—å–æ–Ω—ã</button>
                    <button class="nav-tab" onclick="switchTab('tenants')">üë• –ê—Ä–µ–Ω–¥–∞—Ç–æ—Ä—ã</button>
                    <button class="nav-tab" onclick="switchTab('ads')">üì¢ –†–µ–∫–ª–∞–º–∞</button>
                    <button class="nav-tab" onclick="switchTab('settings')">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                </div>

                <!-- TAB: –°–¢–ê–¢–ò–°–¢–ò–ö–ê -->
                <div class="tab-content active" id="stats-tab">
                    <h2 style="color: var(--color-primary); margin-bottom: var(--spacing-lg);">üìä –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞</h2>
                    
                    <div class="stats-grid" id="stats-container">
                        <div class="stat-card">
                            <div class="stat-number" id="stat-pavilions">0</div>
                            <div class="stat-label">–í—Å–µ–≥–æ –ø–∞–≤–∏–ª—å–æ–Ω–æ–≤</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="stat-premium">0</div>
                            <div class="stat-label">–ü—Ä–µ–º–∏—É–º –ø–∞–≤–∏–ª—å–æ–Ω–æ–≤</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="stat-tenants">0</div>
                            <div class="stat-label">–ê—Ä–µ–Ω–¥–∞—Ç–æ—Ä–æ–≤</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="stat-approved">0</div>
                            <div class="stat-label">–û–¥–æ–±—Ä–µ–Ω–æ –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–æ–≤</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="stat-views">0</div>
                            <div class="stat-label">–ü—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ —Å—Ç—Ä–∞–Ω–∏—Ü</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="stat-revenue">0 ‚ÇΩ</div>
                            <div class="stat-label">–î–æ—Ö–æ–¥ –æ—Ç –ø—Ä–µ–º–∏—É–º</div>
                        </div>
                    </div>
                </div>

                <!-- TAB: –ü–ê–í–ò–õ–¨–û–ù–´ -->
                <div class="tab-content" id="pavilions-tab">
                    <h2 style="color: var(--color-primary); margin-bottom: var(--spacing-lg);">üè™ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–≤–∏–ª—å–æ–Ω–∞–º–∏</h2>
                    
                    <!-- –§–∏–ª—å—Ç—Ä—ã -->
                    <div class="filters-panel">
                        <div class="filter-group">
                            <label class="filter-label">–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é</label>
                            <input type="text" class="filter-input" id="pavilion-search" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞...">
                        </div>
                        <div class="filter-group">
                            <label class="filter-label">–≠—Ç–∞–∂</label>
                            <select class="filter-select" id="pavilion-floor-filter">
                                <option value="">–í—Å–µ —ç—Ç–∞–∂–∏</option>
                                <option value="1">1 —ç—Ç–∞–∂</option>
                                <option value="2">2 —ç—Ç–∞–∂</option>
                                <option value="3">3 —ç—Ç–∞–∂</option>
                                <option value="4">4 —ç—Ç–∞–∂</option>
                                <option value="5">5 —ç—Ç–∞–∂</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label class="filter-label">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                            <select class="filter-select" id="pavilion-category-filter">
                                <option value="">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
                                <option value="clothing">üëï –û–¥–µ–∂–¥–∞</option>
                                <option value="shoes">üëû –û–±—É–≤—å</option>
                                <option value="accessories">‚ú® –ê–∫—Å–µ—Å—Å—É–∞—Ä—ã</option>
                                <option value="electronics">üì± –≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞</option>
                                <option value="cosmetics">üíÑ –ö–æ—Å–º–µ—Ç–∏–∫–∞</option>
                                <option value="sports">‚öΩ –°–ø–æ—Ä—Ç</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label class="filter-label">–°—Ç–∞—Ç—É—Å</label>
                            <select class="filter-select" id="pavilion-status-filter">
                                <option value="">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                                <option value="premium">‚≠ê –ü—Ä–µ–º–∏—É–º</option>
                                <option value="free">–ë–µ—Å–ø–ª–∞—Ç–Ω–æ</option>
                            </select>
                        </div>
                    </div>

                    <!-- –¢–∞–±–ª–∏—Ü–∞ –ø–∞–≤–∏–ª—å–æ–Ω–æ–≤ -->
                    <div class="table-wrapper">
                        <table class="data-table" id="pavilions-table">
                            <thead>
                                <tr>
                                    <th>–≠—Ç–∞–∂</th>
                                    <th>–ù–æ–º–µ—Ä</th>
                                    <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                                    <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
                                    <th>–í–ª–∞–¥–µ–ª–µ—Ü</th>
                                    <th>–°—Ç–∞—Ç—É—Å</th>
                                    <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                                </tr>
                            </thead>
                            <tbody id="pavilions-table-body">
                                <tr>
                                    <td colspan="7" style="text-align: center; padding: var(--spacing-lg); color: var(--color-text-light);">
                                        –ó–∞–≥—Ä—É–∑–∫–∞ –ø–∞–≤–∏–ª—å–æ–Ω–æ–≤...
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- TAB: –ê–†–ï–ù–î–ê–¢–û–†–´ -->
                <div class="tab-content" id="tenants-tab">
                    <h2 style="color: var(--color-primary); margin-bottom: var(--spacing-lg);">üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–∞–º–∏</h2>
                    
                    <button id="btn-add-tenant" class="btn btn-primary" onclick="window.SuperAdmin.showAddTenantModal()" style="margin-bottom: var(--spacing-lg);">
                        ‚ûï –î–æ–±–∞–≤–∏—Ç—å –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–∞
                    </button>

                    <!-- –§–∏–ª—å—Ç—Ä—ã -->
                    <div class="filters-panel">
                        <div class="filter-group">
                            <label class="filter-label">–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏/—Ç–µ–ª–µ—Ñ–æ–Ω—É</label>
                            <input type="text" class="filter-input" id="tenant-search" placeholder="–ò–º—è –∏–ª–∏ –Ω–æ–º–µ—Ä...">
                        </div>
                        <div class="filter-group">
                            <label class="filter-label">–°—Ç–∞—Ç—É—Å</label>
                            <select class="filter-select" id="tenant-status-filter">
                                <option value="">–í—Å–µ</option>
                                <option value="approved">‚úÖ –û–¥–æ–±—Ä–µ–Ω—ã</option>
                                <option value="pending">‚è≥ –ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ</option>
                            </select>
                        </div>
                    </div>

                    <!-- –¢–∞–±–ª–∏—Ü–∞ –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–æ–≤ -->
                    <div class="table-wrapper">
                        <table class="data-table" id="tenants-table">
                            <thead>
                                <tr>
                                    <th>–ò–º—è</th>
                                    <th>–¢–µ–ª–µ—Ñ–æ–Ω</th>
                                    <th>–°—Ç–∞—Ç—É—Å</th>
                                    <th>–ü—Ä–µ–º–∏—É–º</th>
                                    <th>–ü–∞–≤–∏–ª—å–æ–Ω–æ–≤</th>
                                    <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                                </tr>
                            </thead>
                            <tbody id="tenants-table-body">
                                <tr>
                                    <td colspan="6" style="text-align: center; padding: var(--spacing-lg); color: var(--color-text-light);">
                                        –ó–∞–≥—Ä—É–∑–∫–∞ –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–æ–≤...
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- TAB: –†–ï–ö–õ–ê–ú–ê -->
                <div class="tab-content" id="ads-tab">
                    <h2 style="color: var(--color-primary); margin-bottom: var(--spacing-lg);">üì¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∫–ª–∞–º–æ–π</h2>
                    
                    <div style="max-width: 600px;">
                        <!-- –°—Ç–∞—Ç—É—Å –±–∞–Ω–Ω–µ—Ä–∞ -->
                        <div class="form-group">
                            <label class="form-label">–°—Ç–∞—Ç—É—Å —Ä–µ–∫–ª–∞–º–Ω–æ–≥–æ –±–∞–Ω–Ω–µ—Ä–∞</label>
                            <div style="display: flex; gap: var(--spacing-md); align-items: center;">
                                <span id="banner-status" class="badge badge-danger">–ù–µ–∞–∫—Ç–∏–≤–µ–Ω</span>
                                <button id="btn-activate-banner" class="btn btn-primary" onclick="window.SuperAdmin.activateBanner()">üöÄ –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å</button>
                                <button id="btn-deactivate-banner" class="btn btn-secondary" onclick="window.SuperAdmin.deactivateBanner()" style="display: none;">‚õî –î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å</button>
                            </div>
                        </div>

                        <!-- –ó–∞–≥—Ä—É–∑–∫–∞ –±–∞–Ω–Ω–µ—Ä–∞ -->
                        <div class="form-group">
                            <label class="form-label">–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±–∞–Ω–Ω–µ—Ä–∞ (–º–∞–∫—Å 500 –ö–ë)</label>
                            <div class="image-upload-area" onclick="document.getElementById('ad-image-input').click()" style="padding: var(--spacing-lg); border: 2px dashed var(--color-border); border-radius: var(--radius-md); text-align: center; cursor: pointer; transition: all var(--transition-fast);">
                                <p>üì∏ –ö–ª–∏–∫–Ω–∏—Ç–µ –∏–ª–∏ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</p>
                            </div>
                            <input type="file" id="ad-image-input" accept="image/*" style="display: none;">
                        </div>

                        <!-- –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä -->
                        <div class="form-group">
                            <label class="form-label">–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä</label>
                            <div id="banner-preview" style="max-width: 100%; border-radius: var(--radius-md); border: 1px solid var(--color-border); padding: var(--spacing-md); background: var(--color-secondary);">
                                <p>–ù–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</p>
                            </div>
                        </div>

                        <!-- HTML –∫–æ–¥ –±–∞–Ω–Ω–µ—Ä–∞ -->
                        <div class="form-group">
                            <label class="form-label">HTML –∫–æ–¥ –±–∞–Ω–Ω–µ—Ä–∞</label>
                            <textarea class="form-textarea" id="banner-html-code" placeholder="–í—Å—Ç–∞–≤—å—Ç–µ HTML –∫–æ–¥ —Ä–µ–∫–ª–∞–º–Ω–æ–≥–æ –±–∞–Ω–Ω–µ—Ä–∞"></textarea>
                        </div>

                        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                        <div class="form-group">
                            <label class="form-label">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–∞–Ω–Ω–µ—Ä–∞</label>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--spacing-md);">
                                <div>
                                    <div style="font-size: var(--font-size-sm); color: var(--color-text-light);">–ü–æ–∫–∞–∑–æ–≤</div>
                                    <div style="font-size: var(--font-size-2xl); font-weight: var(--font-weight-bold); color: var(--color-accent);" id="ad-impressions">0</div>
                                </div>
                                <div>
                                    <div style="font-size: var(--font-size-sm); color: var(--color-text-light);">–ö–ª–∏–∫–æ–≤</div>
                                    <div style="font-size: var(--font-size-2xl); font-weight: var(--font-weight-bold); color: var(--color-accent);" id="ad-clicks">0</div>
                                </div>
                            </div>
                        </div>

                        <button class="btn btn-primary" onclick="window.SuperAdmin.saveBannerSettings()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    </div>
                </div>

                <!-- TAB: –ù–ê–°–¢–†–û–ô–ö–ò -->
                <div class="tab-content" id="settings-tab">
                    <h2 style="color: var(--color-primary); margin-bottom: var(--spacing-lg);">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞</h2>
                    
                    <div style="max-width: 600px;">
                        <!-- –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ -->
                        <div class="form-group">
                            <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞</label>
                            <input type="text" class="form-input" id="project-name" placeholder="–ö–∞—Ä—Ç–∞ –ê–ø—Ä–∞—à–∫–∏">
                        </div>

                        <!-- –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ -->
                        <div class="form-group">
                            <label class="form-label">–û—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç</label>
                            <div style="display: flex; gap: var(--spacing-md); align-items: center;">
                                <input type="color" id="project-color" value="#FF6B35" style="width: 50px; height: 50px; border: none; border-radius: var(--radius-md); cursor: pointer;">
                                <input type="text" class="form-input" id="project-color-hex" value="#FF6B35" style="flex: 1;">
                            </div>
                        </div>

                        <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ -->
                        <div class="form-group">
                            <label class="form-label">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤</label>
                            <div id="categories-list" style="margin-bottom: var(--spacing-md);">
                                <!-- –ó–∞–≥—Ä—É–∑–∏—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            </div>
                            <button id="btn-add-category" class="btn btn-secondary" onclick="window.SuperAdmin.showAddCategoryModal()">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</button>
                        </div>

                        <button class="btn btn-primary" id="settings-save-btn" onclick="window.SuperAdmin.saveProjectSettings()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL: –î–æ–±–∞–≤–∏—Ç—å –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–∞ -->
    <div class="modal-overlay" id="add-tenant-modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>‚ûï –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–∞</h3>
                <button class="modal-close" onclick="hideAddTenantModal()">‚úï</button>
            </div>
            <div class="modal-body">
                <form id="add-tenant-form">
                    <div class="form-group">
                        <label class="form-label">–ò–º—è *</label>
                        <input type="text" class="form-input" id="new-tenant-name" placeholder="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">–¢–µ–ª–µ—Ñ–æ–Ω *</label>
                        <input type="tel" class="form-input" id="new-tenant-phone" placeholder="+7 (999) 999-99-99" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">–ü—Ä–µ–º–∏—É–º —Å—Ç–∞—Ç—É—Å</label>
                        <input type="checkbox" id="new-tenant-premium">
                        <label for="new-tenant-premium" style="margin-top: var(--spacing-sm); display: inline;">–Ø–≤–ª—è–µ—Ç—Å—è –ø—Ä–µ–º–∏—É–º</label>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="hideAddTenantModal()">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-primary" onclick="saveNewTenant()">–î–æ–±–∞–≤–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- MODAL: –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é -->
    <div class="modal-overlay" id="add-category-modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>‚ûï –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</h3>
                <button class="modal-close" onclick="hideAddCategoryModal()">‚úï</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ *</label>
                    <input type="text" class="form-input" id="new-category-name" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞" required>
                </div>
                <div class="form-group">
                    <label class="form-label">–≠–º–æ–¥–∑–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</label>
                    <input type="text" class="form-input" id="new-category-emoji" placeholder="üì±" maxlength="2">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="hideAddCategoryModal()">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-primary" onclick="saveNewCategory()">–î–æ–±–∞–≤–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- –°–ö–†–ò–ü–¢–´ -->
    <script src="js/pwa.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/data.js"></script>
    <script src="js/superadmin.js"></script>

    <script>
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã—Ö–æ–¥–∞
        function handleLogout() {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏?')) {
                window.Auth?.logout?.();
            }
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–∞ (–≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è)
        async function saveNewTenant() {
            const name = document.getElementById('new-tenant-name').value;
            const phone = document.getElementById('new-tenant-phone').value;
            const isPremium = document.getElementById('new-tenant-premium').checked;
            
            if (!name || !phone) { 
                alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è'); 
                return; 
            }
            
            await window.SuperAdmin.addTenantManually?.({
                name,
                phone,
                is_premium: isPremium
            });
        }

        // –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é (–≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è)
        async function saveNewCategory() {
            const name = document.getElementById('new-category-name').value;
            const emoji = document.getElementById('new-category-emoji').value || 'üì¶';
            
            if (!name) { 
                alert('–£–∫–∞–∂–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏'); 
                return; 
            }
            
            await window.SuperAdmin.addGlobalCategory?.({
                name,
                emoji
            });
        }

        // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –¥–µ–π—Å—Ç–≤–∏–π (–∏—Å–ø–æ–ª—å–∑—É—é—Ç window.SuperAdmin)
        function editPavilion(id) { 
            window.SuperAdmin?.editPavilion?.(id); 
        }
        
        function deletePavilion(id) { 
            window.SuperAdmin?.deletePavilion?.(id); 
        }
        
        function togglePremium(id, isPremium) { 
            window.SuperAdmin?.togglePavPremium?.(id); 
        }
        
        function approveTenant(id) { 
            window.SuperAdmin?.approveTenant?.(id); 
        }
        
        function toggleTenantPremium(id, isPremium) { 
            window.SuperAdmin?.toggleTenantPremium?.(id); 
        }
        
        function deleteTenant(id) { 
            window.SuperAdmin?.deleteTenant?.(id); 
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
            if (window.SuperAdmin && window.SuperAdmin.init) {
                window.SuperAdmin.init();
            }
        });
    </script>
</body>
</html>
