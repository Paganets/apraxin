<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="description" content="–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ –ê–ø—Ä–∞–∫—Å–∏–Ω–∞ –¥–≤–æ—Ä–∞ –≤ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–µ. –ù–∞–π–¥–∏—Ç–µ –ø–∞–≤–∏–ª—å–æ–Ω—ã –ø–æ –∫–æ—Ä–ø—É—Å–∞–º –∏ —ç—Ç–∞–∂–∞–º, —Å–∫–∏–¥–∫–∏ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è.">
    <meta name="keywords" content="–ê–ø—Ä–∞—à–∫–∞, –ê–ø—Ä–∞–∫—Å–∏–Ω –¥–≤–æ—Ä, –∫–∞—Ä—Ç–∞, –ø–∞–≤–∏–ª—å–æ–Ω—ã, –∫–æ—Ä–ø—É—Å–∞, —ç—Ç–∞–∂–∏, –º–∞–≥–∞–∑–∏–Ω—ã, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥">
    <meta name="theme-color" content="#000000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="–ê–ø—Ä–∞—à–∫–∞">
    
    <title>–ö–∞—Ä—Ç–∞ –ê–ø—Ä–∞—à–∫–∏ ‚Äî –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ –ê–ø—Ä–∞–∫—Å–∏–Ω–∞ –¥–≤–æ—Ä–∞</title>
    
    <!-- Supabase Configuration (–ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ meta —Ç–µ–≥–∏ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏) -->
    <meta name="supabase-anon-key" content="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFhZ3B1dWNkbmtyendzbW5ieW1rIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA1MDMxMjYsImV4cCI6MjA4NjA3OTEyNn0.T3vEY9VfxIQ19AtWPkwk6xiqAZe6sEzG-Ke73olUPsY">
    <meta name="supabase-url" content="https://qagpuucdnkrzwsmnbymk.supabase.co">
    
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 192 192'><rect fill='%23000000' width='192' height='192'/><text x='50%' y='50%' font-size='112' fill='white' text-anchor='middle' dominant-baseline='central' font-weight='bold'>–ê</text></svg>">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 180 180'><rect fill='%23000000' width='180' height='180'/><text x='50%' y='50%' font-size='100' fill='white' text-anchor='middle' dominant-baseline='central' font-weight='bold'>–ê</text></svg>">
    
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- ============================================================
         HEADER - –®–∞–ø–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
         ============================================================ -->
    <header class="app-header">
        <div class="header-content">
            <div class="logo-section">
                <h1 class="app-title">–ö–∞—Ä—Ç–∞ –ê–ø—Ä–∞—à–∫–∏</h1>
                <p class="app-subtitle">–ê–ø—Ä–∞–∫—Å–∏–Ω –¥–≤–æ—Ä, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥</p>
            </div>
            <nav class="header-nav">
                <a href="index.html" class="nav-link active" title="–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞">
                    <span class="icon"></span>
                    <span>–ö–∞—Ä—Ç–∞</span>
                </a>
                <button id="auth-btn" class="auth-btn" title="–í–æ–π—Ç–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç">
                    <span class="icon"></span>
                    <span>–í—Ö–æ–¥</span>
                </button>
            </nav>
        </div>
    </header>

    <!-- ============================================================
         MAIN - –û—Å–Ω–æ–≤–Ω–∞—è —á–∞—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
         ============================================================ -->
    <main class="app-main">
        <!-- –ö–û–ù–¢–†–û–õ–¨–ù–ê–Ø –ü–ê–ù–ï–õ–¨ (—Ñ–∏–ª—å—Ç—Ä—ã –∏ –ø–æ–∏—Å–∫) -->
        <section class="controls-panel">
            <div class="controls-wrapper">
                <!-- –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –º–∞–≥–∞–∑–∏–Ω–∞ -->
                <div class="search-group">
                    <input 
                        type="text" 
                        id="search-input" 
                        class="search-input" 
                        placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –º–∞–≥–∞–∑–∏–Ω–∞..."
                        aria-label="–ü–æ–∏—Å–∫ –ø–∞–≤–∏–ª—å–æ–Ω–æ–≤ –ø–æ –∫–æ—Ä–ø—É—Å–∞–º –∏ —ç—Ç–∞–∂–∞–º">
                    <button class="search-clear" id="search-clear" aria-label="–û—á–∏—Å—Ç–∏—Ç—å –ø–æ–∏—Å–∫" style="display: none;">X</button>
                </div>

                <!-- –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º -->
                <div class="filter-group">
                    <select id="category-filter" class="category-filter" aria-label="–§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º">
                        <option value="">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
                        <option value="–æ–¥–µ–∂–¥–∞">–û–¥–µ–∂–¥–∞</option>
                        <option value="–æ–±—É–≤—å">–û–±—É–≤—å</option>
                        <option value="–∞–∫—Å–µ—Å—Å—É–∞—Ä—ã">–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã</option>
                        <option value="—ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞">–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞</option>
                        <option value="–∫–æ—Å–º–µ—Ç–∏–∫–∞">–ö–æ—Å–º–µ—Ç–∏–∫–∞</option>
                        <option value="—Å–ø–æ—Ä—Ç">–°–ø–æ—Ä—Ç</option>
                        <option value="–±—É–∫–≤—ã">–ë—É–∫–≤—ã –∏ –Ω–∞–∫–ª–µ–π–∫–∏</option>
                        <option value="–¥—Ä—É–≥–æ–µ">–î—Ä—É–≥–æ–µ</option>
                    </select>
                </div>

                <!-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –ø–∞–≤–∏–ª—å–æ–Ω–æ–≤ (–≤ –∫–æ—Ä–ø—É—Å–∞—Ö) -->
            </div>
        </section>

        <!-- –ö–û–ù–¢–ï–ô–ù–ï–† –ö–ê–†–¢–´ -->
        <div class="map-wrapper">
            <div id="map-container" class="map-container">
                <!-- SVG –∫–∞—Ä—Ç–∞ –ê–ø—Ä–∞–∫—Å–∏–Ω–∞ –¥–≤–æ—Ä–∞ -->
                <svg 
                    id="market-map" 
                    class="market-map" 
                    viewBox="0 0 1000 600" 
                    xmlns="http://www.w3.org/2000/svg"
                    role="img"
                    aria-label="–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ –ê–ø—Ä–∞–∫—Å–∏–Ω–∞ –¥–≤–æ—Ä–∞">
                    
                    <!-- –ü–æ–¥–ª–æ–∂–∫–∞ (—Ñ–æ–Ω –∑–¥–∞–Ω–∏—è) -->
                    <defs>
                        <pattern id="grid" width="50" height="50" patternUnits="userSpaceOnUse">
                            <path d="M 50 0 L 0 0 0 50" fill="none" stroke="#e0e0e0" stroke-width="0.5"/>
                        </pattern>
                        <linearGradient id="buildingGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#f5f5f5;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#e8e8e8;stop-opacity:1" />
                        </linearGradient>
                    </defs>

                    <!-- –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ–Ω –∑–¥–∞–Ω–∏—è -->
                    <rect width="1000" height="600" fill="url(#buildingGradient)" stroke="#999" stroke-width="2"/>
                    <rect width="1000" height="600" fill="url(#grid)" opacity="0.3"/>

                    <!-- –ù–∞–∑–≤–∞–Ω–∏–µ –∑–¥–∞–Ω–∏—è -->
                    <text x="500" y="30" font-size="24" font-weight="bold" text-anchor="middle" fill="#333">
                        –ê–ü–†–ê–ö–°–ò–ù –î–í–û–†
                    </text>

                    <!-- –û—Ç–¥–µ–ª–µ–Ω–∏–µ –í–•–û–î -->
                    <rect x="10" y="50" width="100" height="80" fill="#90EE90" stroke="#333" stroke-width="2" rx="5"/>
                    <text x="60" y="100" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">–í–•–û–î</text>

                    <!-- –ü—Ä–µ—Å—Å-—Ü–µ–Ω—Ç—Ä –æ–±–ª–∞—Å—Ç—å -->
                    <rect x="150" y="50" width="120" height="80" fill="#FFE4B5" stroke="#333" stroke-width="2" rx="5"/>
                    <text x="210" y="100" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</text>

                    <!-- –¢—É–∞–ª–µ—Ç—ã -->
                    <circle cx="900" cy="100" r="40" fill="#87CEEB" stroke="#333" stroke-width="2"/>
                    <text x="900" y="105" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">üöª WC</text>

                    <!-- –ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã –¥–ª—è –ø–∞–≤–∏–ª—å–æ–Ω–æ–≤ (—Å–µ—Ç–∫–∞ –ø–æ –∫–æ—Ä–ø—É—Å–∞–º –∏ —ç—Ç–∞–∂–∞–º) -->
                    <!-- –õ–µ–≤–∞—è —á–∞—Å—Ç—å -->
                    <g id="pavilions-left">
                        <rect x="20" y="160" width="80" height="60" fill="#fff" stroke="#999" stroke-width="1" class="pavilion-slot" data-slot="a1" rx="3"/>
                        <text x="60" y="195" font-size="10" text-anchor="middle" fill="#999">A-1</text>

                        <rect x="110" y="160" width="80" height="60" fill="#fff" stroke="#999" stroke-width="1" class="pavilion-slot" data-slot="a2" rx="3"/>
                        <text x="150" y="195" font-size="10" text-anchor="middle" fill="#999">A-2</text>

                        <rect x="200" y="160" width="80" height="60" fill="#fff" stroke="#999" stroke-width="1" class="pavilion-slot" data-slot="a3" rx="3"/>
                        <text x="240" y="195" font-size="10" text-anchor="middle" fill="#999">A-3</text>

                        <rect x="20" y="240" width="80" height="60" fill="#fff" stroke="#999" stroke-width="1" class="pavilion-slot" data-slot="b1" rx="3"/>
                        <text x="60" y="275" font-size="10" text-anchor="middle" fill="#999">B-1</text>

                        <rect x="110" y="240" width="80" height="60" fill="#fff" stroke="#999" stroke-width="1" class="pavilion-slot" data-slot="b2" rx="3"/>
                        <text x="150" y="275" font-size="10" text-anchor="middle" fill="#999">B-2</text>

                        <rect x="200" y="240" width="80" height="60" fill="#fff" stroke="#999" stroke-width="1" class="pavilion-slot" data-slot="b3" rx="3"/>
                        <text x="240" y="275" font-size="10" text-anchor="middle" fill="#999">B-3</text>
                    </g>

                    <!-- –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —á–∞—Å—Ç—å -->
                    <g id="pavilions-center">
                        <rect x="350" y="160" width="80" height="60" fill="#fff" stroke="#999" stroke-width="1" class="pavilion-slot" data-slot="c1" rx="3"/>
                        <text x="390" y="195" font-size="10" text-anchor="middle" fill="#999">C-1</text>

                        <rect x="440" y="160" width="80" height="60" fill="#fff" stroke="#999" stroke-width="1" class="pavilion-slot" data-slot="c2" rx="3"/>
                        <text x="480" y="195" font-size="10" text-anchor="middle" fill="#999">C-2</text>

                        <rect x="530" y="160" width="80" height="60" fill="#fff" stroke="#999" stroke-width="1" class="pavilion-slot" data-slot="c3" rx="3"/>
                        <text x="570" y="195" font-size="10" text-anchor="middle" fill="#999">C-3</text>

                        <rect x="350" y="240" width="80" height="60" fill="#fff" stroke="#999" stroke-width="1" class="pavilion-slot" data-slot="d1" rx="3"/>
                        <text x="390" y="275" font-size="10" text-anchor="middle" fill="#999">D-1</text>

                        <rect x="440" y="240" width="80" height="60" fill="#fff" stroke="#999" stroke-width="1" class="pavilion-slot" data-slot="d2" rx="3"/>
                        <text x="480" y="275" font-size="10" text-anchor="middle" fill="#999">D-2</text>
                    </g>

                    <!-- –ü—Ä–∞–≤–∞—è —á–∞—Å—Ç—å -->
                    <g id="pavilions-right">
                        <rect x="700" y="160" width="80" height="60" fill="#fff" stroke="#999" stroke-width="1" class="pavilion-slot" data-slot="e1" rx="3"/>
                        <text x="740" y="195" font-size="10" text-anchor="middle" fill="#999">E-1</text>

                        <rect x="790" y="160" width="80" height="60" fill="#fff" stroke="#999" stroke-width="1" class="pavilion-slot" data-slot="e2" rx="3"/>
                        <text x="830" y="195" font-size="10" text-anchor="middle" fill="#999">E-2</text>

                        <rect x="700" y="240" width="80" height="60" fill="#fff" stroke="#999" stroke-width="1" class="pavilion-slot" data-slot="f1" rx="3"/>
                        <text x="740" y="275" font-size="10" text-anchor="middle" fill="#999">F-1</text>

                        <rect x="790" y="240" width="80" height="60" fill="#fff" stroke="#999" stroke-width="1" class="pavilion-slot" data-slot="f2" rx="3"/>
                        <text x="830" y="275" font-size="10" text-anchor="middle" fill="#999">F-2</text>
                    </g>

                    <!-- –õ–µ–≥–µ–Ω–¥–∞ (–º–∞—Å—à—Ç–∞–±) -->
                    <g class="legend">
                        <rect x="20" y="520" width="200" height="70" fill="white" stroke="#999" stroke-width="1" rx="3" opacity="0.9"/>
                        <text x="30" y="540" font-size="12" font-weight="bold" fill="#333">–õ–ï–ì–ï–ù–î–ê</text>
                        <rect x="30" y="548" width="15" height="15" fill="#fff" stroke="#999" stroke-width="1"/>
                        <text x="50" y="560" font-size="11" fill="#333">–°–≤–æ–±–æ–¥–Ω–æ</text>
                        <rect x="130" y="548" width="15" height="15" fill="#90EE90" stroke="#333" stroke-width="1"/>
                        <text x="150" y="560" font-size="11" fill="#333">–ó–∞–Ω—è—Ç–æ</text>
                        <rect x="30" y="573" width="15" height="15" fill="#FFB6C1" stroke="#333" stroke-width="1"/>
                        <text x="50" y="585" font-size="11" fill="#333">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</text>
                    </g>
                </svg>

                <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –æ –∑–∞–≥—Ä—É–∑–∫–µ -->
                <div id="loading-message" class="loading-message" style="display: none;">
                    –ó–∞–≥—Ä—É–∑–∫–∞ –ø–∞–≤–∏–ª—å–æ–Ω–æ–≤ –∏–∑ –∫–æ—Ä–ø—É—Å–æ–≤...
                </div>

                <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ -->
                <div id="error-message" class="error-message" style="display: none;">
                    –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–∞—Ä—Ç—É. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.
                </div>
            </div>

            <!-- –ë–û–ö–û–í–ê–Ø –ü–ê–ù–ï–õ–¨ - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º –ø–∞–≤–∏–ª—å–æ–Ω–µ (–∫–æ—Ä–ø—É—Å, —ç—Ç–∞–∂, –Ω–æ–º–µ—Ä) -->
            <aside id="pavilion-info" class="pavilion-info hidden" role="complementary">
                <button class="close-btn" id="close-pavilion" aria-label="–ó–∞–∫—Ä—ã—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é">&times;</button>
                
                <div class="pavilion-content">
                    <header class="pavilion-header">
                        <h2 id="pavilion-name">–í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–≤–∏–ª—å–æ–Ω –≤ –∫–æ—Ä–ø—É—Å–µ</h2>
                        <p id="pavilion-number" class="pavilion-number">‚Äî</p>
                    </header>

                    <section id="pavilion-details" class="pavilion-details">
                        <div class="detail-block">
                            <h3>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</h3>
                            <p id="pavilion-category">‚Äî</p>
                        </div>

                        <div class="detail-block">
                            <h3>–°–∫–∏–¥–∫–∏</h3>
                            <ul id="pavilion-discounts">
                                <li class="no-discounts">–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–∫–∏–¥–æ–∫</li>
                            </ul>
                        </div>

                        <div class="detail-block">
                            <h3>–û –ø—Ä–æ–µ–∫—Ç–µ</h3>
                            <p class="help-text">
                                –í—ã–±–∏—Ä–∞–π—Ç–µ –ø–∞–≤–∏–ª—å–æ–Ω—ã –Ω–∞ –∫–∞—Ä—Ç–µ —Å–ª–µ–≤–∞ (–ø–æ –∫–æ—Ä–ø—É—Å–∞–º –∏ —ç—Ç–∞–∂–∞–º), —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏ —Å–∫–∏–¥–∫–∏.
                            </p>
                        </div>
                    </section>

                    <footer class="pavilion-footer">
                        <button class="btn btn-share" id="share-btn" style="display: none;">
                            –ü–æ–¥–µ–ª–∏—Ç—å—Å—è
                        </button>
                    </footer>
                </div>
            </aside>
        </div>

        <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û: –í–•–û–î -->
        <div id="login-modal" class="modal-overlay" style="display: none; align-items: center; justify-content: center;">
            <div class="modal-content" style="max-width:420px; width:90%; padding:20px;">
                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:12px;">
                    <h3 style="margin:0;">–í—Ö–æ–¥</h3>
                    <button id="login-modal-close" class="modal-close" style="font-size:20px; background:none; border:none;">X</button>
                </div>
                <form id="login-form">
                    <div class="form-group">
                        <label for="phone-input">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</label>
                        <div class="phone-input-wrapper" style="display:flex; gap:8px; align-items:center;">
                            <span id="phone-prefix" aria-hidden="true" style="padding:8px 10px; background:#f5f5f5; border:1px solid #d0d0d0; border-radius:4px;">+7</span>
                            <input
                                type="tel"
                                id="phone-input"
                                name="phone"
                                placeholder="9__ ___ __ __"
                                inputmode="numeric"
                                pattern="[0-9]*"
                                maxlength="10"
                                required
                                style="flex:1; padding:8px;"
                                aria-label="–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –±–µ–∑ –∫–æ–¥–∞ —Å—Ç—Ä–∞–Ω—ã">
                        </div>
                    </div>
                    <div id="auth-error" style="color:#b00020; display:none; margin-bottom:8px;"></div>
                    <div id="auth-success" style="color:#008000; display:none; margin-bottom:8px;"></div>
                    <div style="display:flex; gap:8px;">
                        <button type="submit" class="btn btn-primary" style="flex:1;">–í–æ–π—Ç–∏</button>
                        <button type="button" class="btn btn-secondary" style="flex:1;" id="login-cancel">–û—Ç–º–µ–Ω–∞</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- –°–¢–ê–¢–ò–°–¢–ò–ö–ê -->
        <section class="stats-section" aria-label="–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="total-pavilions">0</div>
                    <div class="stat-label">–ü–∞–≤–∏–ª—å–æ–Ω–æ–≤ –≤ –∫–æ—Ä–ø—É—Å–∞—Ö</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="categories-count">0</div>
                    <div class="stat-label">–ö–∞—Ç–µ–≥–æ—Ä–∏–π</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="discounts-count">0</div>
                    <div class="stat-label">–°–∫–∏–¥–æ–∫</div>
                </div>
            </div>
        </section>
    </main>

    <!-- ============================================================
         FOOTER - –ü–æ–¥–≤–∞–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
         ============================================================ -->
    <footer class="app-footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>–û –ø—Ä–æ–µ–∫—Ç–µ</h3>
                <p>
                    –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ –ê–ø—Ä–∞–∫—Å–∏–Ω–∞ –¥–≤–æ—Ä–∞ –≤ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–µ. 
                    –ù–∞—Ö–æ–¥–∏—Ç–µ –ø–∞–≤–∏–ª—å–æ–Ω—ã –ø–æ –∫–æ—Ä–ø—É—Å–∞–º –∏ —ç—Ç–∞–∂–∞–º, —Å–º–æ—Ç—Ä–∏—Ç–µ —Å–∫–∏–¥–∫–∏ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è.
                </p>
            </div>
            <div class="footer-section">
                <h3>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h3>
                <p>
                    –ê–ø—Ä–∞–∫—Å–∏–Ω –¥–≤–æ—Ä<br>
                    –≥. –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥<br>
                    <a href="tel:+79001234567">+7 (900) 123-45-67</a>
                </p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>¬© 2026 –ö–∞—Ä—Ç–∞ –ê–ø—Ä–∞—à–∫–∏</p>
        </div>
    </footer>

    <!-- ============================================================
         –°–ö–†–ò–ü–¢–´
         ============================================================ -->
    <!-- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Supabase –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–∏–∑ meta —Ç–µ–≥–æ–≤) -->
    <script>
        // –ü–æ–ª—É—á–∞–µ–º –∫–ª—é—á –∏–∑ <meta> —Ç–µ–≥–∞ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
        // –ö–ª—é—á–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ HTML, –∞ –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ JS —Ñ–∞–π–ª–∞—Ö
        const supabaseAnonKey = document.querySelector('meta[name="supabase-anon-key"]').content.trim();
        const supabaseUrl = document.querySelector('meta[name="supabase-url"]').content.trim();

        // –°–æ–∑–¥–∞—ë–º –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
        window.SupabaseConfig = {
            url: supabaseUrl,
            anonKey: supabaseAnonKey
        };

        // –õ–æ–≥–∏—Ä—É–µ–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
        if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
            console.log('‚úÖ Supabase Config –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω');
            console.log('URL:', supabaseUrl);
        }
    </script>
    
    <script src="js/pwa.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/data.js"></script>
    <script src="js/map.js"></script>

    <script>
        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–∞–ª—å–Ω—ã–º –æ–∫–Ω–æ–º –≤—Ö–æ–¥–∞ (–æ—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ #login –∏ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏)
        (function(){
            function showLoginModal(){
                console.log('üì≤ –û—Ç–∫—Ä—ã–≤–∞—é –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—Ö–æ–¥–∞');
                const m = document.getElementById('login-modal');
                if(!m) {
                    console.error('‚ùå –û—à–∏–±–∫–∞: —ç–ª–µ–º–µ–Ω—Ç #login-modal –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ DOM');
                    return;
                }
                m.style.display = 'flex';
                console.log('‚úÖ –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—Ö–æ–¥–∞ –æ—Ç–∫—Ä—ã—Ç–æ');
                // –§–æ–∫—É—Å–∏—Ä—É–µ–º –ø–µ—Ä–≤—ã–π input –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞
                const phoneInput = document.getElementById('phone-input');
                if (phoneInput) {
                    phoneInput.focus();
                    console.log('üéØ –§–æ–∫—É—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ –ø–æ–ª–µ –≤–≤–æ–¥–∞ –Ω–æ–º–µ—Ä–∞');
                }
            }
            function hideLoginModal(){
                console.log('–ó–∞–∫—Ä—ã–≤–∞—é –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—Ö–æ–¥–∞');
                const m = document.getElementById('login-modal');
                if(!m) return;
                m.style.display = 'none';
                try { history.replaceState(null, '', window.location.pathname + window.location.search); } catch(e){}
                console.log('‚úÖ –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∑–∞–∫—Ä—ã—Ç–æ');
            }

            document.addEventListener('DOMContentLoaded', ()=>{
                console.log('üìÑ DOMContentLoaded: –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–∞–ª—å–Ω—ã–º –æ–∫–Ω–æ–º');
                
                if(window.location.hash === '#login') {
                    console.log('üîó –ù–∞–π–¥–µ–Ω —Ö–µ—à #login, –æ—Ç–∫—Ä—ã–≤–∞—é –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ');
                    showLoginModal();
                }

                window.addEventListener('hashchange', ()=>{
                    console.log('üîó –•–µ—à –∏–∑–º–µ–Ω–∏–ª—Å—è:', window.location.hash);
                    if(window.location.hash === '#login') {
                        showLoginModal();
                    } else {
                        hideLoginModal();
                    }
                });

                const close = document.getElementById('login-modal-close');
                if(close) {
                    close.addEventListener('click', ()=>{
                        console.log('‚ùå –ù–∞–∂–∞—Ç–∞ –∫–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞');
                        hideLoginModal();
                    });
                }
                
                const cancel = document.getElementById('login-cancel');
                if(cancel) {
                    cancel.addEventListener('click', ()=>{
                        console.log('‚ùå –ù–∞–∂–∞—Ç–∞ –∫–Ω–æ–ø–∫–∞ "–û—Ç–º–µ–Ω–∞"');
                        hideLoginModal();
                    });
                }

                // –µ—Å–ª–∏ auth.js –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –∫ #login (handleAuthButtonClick), —Ñ–æ—Ä–º–∞ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
            });
        })();
    </script>
</body>
</html>
